<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ ä¼ä¸šçº§AIå†…å®¹ç®¡ç†å¹³å° - å®Œæ•´APIæµ‹è¯•å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-color: #667eea;
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --success-color: #28a745;
            --error-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --dark-color: #343a40;
            --light-color: #f8f9fa;
            --border-color: #dee2e6;
            --text-muted: #6c757d;
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
            --shadow-lg: 0 20px 60px rgba(0,0,0,0.15);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: var(--primary-gradient);
            min-height: 100vh;
            padding: 20px;
            color: var(--dark-color);
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        
        /* é¡¶éƒ¨æ ‡é¢˜åŒºåŸŸ */
        .header {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-lg);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
        }
        
        .header h1 {
            font-size: 36px;
            margin-bottom: 15px;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header p {
            color: var(--text-muted);
            font-size: 18px;
            margin-bottom: 20px;
        }
        
        .feature-badges {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .feature-badge {
            display: inline-block;
            padding: 8px 16px;
            background: rgba(102, 126, 234, 0.1);
            color: var(--primary-color);
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }
        
        /* ç¯å¢ƒåˆ‡æ¢å™¨ */
        .env-switcher {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .env-option {
            background: white;
            padding: 25px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            border: 3px solid transparent;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .env-option:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .env-option.active {
            background: var(--primary-gradient);
            color: white;
            border-color: white;
        }
        
        .env-option h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }
        
        .env-option .env-url {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            opacity: 0.8;
            word-break: break-all;
            margin-bottom: 10px;
        }
        
        .env-status {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 10px;
        }
        
        .env-status.online { background: rgba(40, 167, 69, 0.2); color: var(--success-color); }
        .env-status.offline { background: rgba(220, 53, 69, 0.2); color: var(--error-color); }
        .env-status.checking { background: rgba(255, 193, 7, 0.2); color: #856404; }
        
        /* ä¸»è¦å†…å®¹åŒºåŸŸ */
        .main-content {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
            align-items: start;
        }
        
        /* ä¾§è¾¹æ  */
        .sidebar {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            max-height: calc(100vh - 400px);
            overflow-y: auto;
            position: sticky;
            top: 20px;
        }
        
        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-color);
        }
        
        .sidebar-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .api-counter {
            background: var(--primary-gradient);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .search-box {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 14px;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }
        
        .search-box:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .api-category {
            margin-bottom: 25px;
        }
        
        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 2px solid var(--light-color);
            margin-bottom: 15px;
            cursor: pointer;
            user-select: none;
        }
        
        .category-title {
            color: var(--primary-color);
            font-size: 16px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .category-count {
            background: rgba(102, 126, 234, 0.1);
            color: var(--primary-color);
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .category-toggle {
            font-size: 12px;
            color: var(--text-muted);
            transition: transform 0.3s;
        }
        
        .category-toggle.collapsed {
            transform: rotate(-90deg);
        }
        
        .category-endpoints {
            display: block;
        }
        
        .category-endpoints.collapsed {
            display: none;
        }
        
        .api-endpoint {
            padding: 15px;
            margin: 8px 0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
        }
        
        .api-endpoint:hover {
            background: var(--light-color);
            border-color: var(--primary-color);
            transform: translateX(5px);
        }
        
        .api-endpoint.active {
            background: var(--primary-gradient);
            color: white;
            transform: translateX(10px);
        }
        
        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 5px;
        }
        
        .method {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            min-width: 60px;
            text-align: center;
        }
        
        .method.GET { background: #61affe; color: white; }
        .method.POST { background: #49cc90; color: white; }
        .method.PUT { background: #fca130; color: white; }
        .method.DELETE { background: #f93e3e; color: white; }
        
        .endpoint-path {
            font-family: 'Courier New', monospace;
            font-size: 13px;
            font-weight: 500;
            word-break: break-all;
            flex: 1;
        }
        
        .endpoint-description {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 5px;
        }
        
        .endpoint-tags {
            display: flex;
            gap: 5px;
            margin-top: 8px;
        }
        
        .endpoint-tag {
            padding: 2px 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            font-size: 10px;
            font-weight: 500;
        }
        
        /* æµ‹è¯•é¢æ¿ */
        .testing-panel {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow);
            min-height: 600px;
        }
        
        .panel-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--light-color);
        }
        
        .panel-tab {
            padding: 12px 24px;
            background: transparent;
            border: none;
            border-radius: 12px 12px 0 0;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-muted);
            transition: all 0.3s;
        }
        
        .panel-tab.active {
            background: var(--primary-gradient);
            color: white;
        }
        
        .panel-content {
            display: none;
        }
        
        .panel-content.active {
            display: block;
        }
        
        .endpoint-info {
            background: var(--light-color);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 30px;
            border-left: 5px solid var(--primary-color);
        }
        
        .endpoint-info h2 {
            font-size: 24px;
            color: var(--dark-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .endpoint-url {
            background: white;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: var(--text-muted);
            word-break: break-all;
            margin-top: 15px;
            border: 1px solid var(--border-color);
        }
        
        .params-section {
            margin-bottom: 30px;
        }
        
        .section-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .section-title {
            color: var(--dark-color);
            font-size: 18px;
            font-weight: 600;
        }
        
        .section-icon {
            font-size: 20px;
        }
        
        .param-group {
            margin-bottom: 20px;
            padding: 20px;
            background: var(--light-color);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }
        
        .param-group.required {
            border-left: 4px solid var(--error-color);
        }
        
        .param-label {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }
        
        .param-name {
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .param-required {
            color: var(--error-color);
            font-weight: 700;
        }
        
        .param-type {
            background: rgba(102, 126, 234, 0.1);
            color: var(--primary-color);
            padding: 2px 8px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .param-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
            font-family: inherit;
        }
        
        .param-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .param-input.code {
            font-family: 'Courier New', monospace;
            min-height: 120px;
            resize: vertical;
        }
        
        .param-description {
            color: var(--text-muted);
            font-size: 13px;
            margin-top: 8px;
            line-height: 1.4;
        }
        
        .param-examples {
            margin-top: 10px;
        }
        
        .example-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }
        
        .example-btn {
            padding: 6px 12px;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }
        
        .example-btn:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .bulk-selector {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .bulk-selector h4 {
            color: #856404;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .content-list {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: white;
        }
        
        .content-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .content-item:hover {
            background: var(--light-color);
        }
        
        .content-item:last-child {
            border-bottom: none;
        }
        
        .content-item input[type="checkbox"] {
            margin: 0;
        }
        
        .content-info {
            flex: 1;
        }
        
        .content-id {
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: var(--text-muted);
        }
        
        .content-title {
            font-weight: 500;
            color: var(--dark-color);
            margin-bottom: 2px;
        }
        
        .content-meta {
            font-size: 11px;
            color: var(--text-muted);
        }
        
        /* æ“ä½œæŒ‰é’® */
        .test-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--light-color);
            border-radius: 12px;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            min-width: 120px;
            justify-content: center;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .btn-primary {
            background: var(--primary-gradient);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-primary:hover {
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
        }
        
        .btn-success {
            background: var(--success-color);
            color: white;
        }
        
        .btn-danger {
            background: var(--error-color);
            color: white;
        }
        
        .btn-warning {
            background: var(--warning-color);
            color: white;
        }
        
        .btn-secondary {
            background: white;
            color: var(--dark-color);
            border: 2px solid var(--border-color);
        }
        
        .btn-secondary:hover {
            background: var(--light-color);
            border-color: var(--primary-color);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* å“åº”åŒºåŸŸ */
        .response-section {
            background: var(--light-color);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }
        
        .response-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            background: white;
            border-bottom: 1px solid var(--border-color);
        }
        
        .response-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .response-actions {
            display: flex;
            gap: 10px;
        }
        
        .response-action {
            padding: 6px 12px;
            background: var(--light-color);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .response-action:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .status-badge.success {
            background: rgba(40, 167, 69, 0.1);
            color: var(--success-color);
        }
        
        .status-badge.error {
            background: rgba(220, 53, 69, 0.1);
            color: var(--error-color);
        }
        
        .status-badge.pending {
            background: rgba(255, 193, 7, 0.1);
            color: #856404;
        }
        
        .response-body {
            padding: 25px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            white-space: pre-wrap;
            word-break: break-word;
            max-height: 600px;
            overflow-y: auto;
            background: #f8f9fa;
        }
        
        .response-body.json {
            background: #1e1e1e;
            color: #d4d4d4;
        }
        
        /* JSONè¯­æ³•é«˜äº® */
        .json-key { color: #9cdcfe; }
        .json-string { color: #ce9178; }
        .json-number { color: #b5cea8; }
        .json-boolean { color: #569cd6; }
        .json-null { color: #569cd6; }
        
        /* æµå¼å“åº” */
        .stream-event {
            background: rgba(23, 162, 184, 0.1);
            border-left: 4px solid var(--info-color);
            padding: 12px 16px;
            margin: 8px 0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
        
        .stream-event-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--info-color);
        }
        
        .stream-event-data {
            color: var(--dark-color);
            white-space: pre-wrap;
        }
        
        /* åŠ è½½åŠ¨ç”» */
        .loading {
            text-align: center;
            padding: 60px 20px;
        }
        
        .spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 4px solid var(--light-color);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: var(--text-muted);
            font-size: 16px;
        }
        
        /* æµ‹è¯•å¥—ä»¶ */
        .test-suite {
            background: white;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
            border: 2px solid var(--border-color);
        }
        
        .suite-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .suite-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .suite-progress {
            width: 100%;
            height: 8px;
            background: var(--light-color);
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .suite-progress-bar {
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 4px;
            transition: width 0.3s;
            width: 0%;
        }
        
        .suite-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .suite-stat {
            text-align: center;
            padding: 12px;
            background: var(--light-color);
            border-radius: 8px;
        }
        
        .suite-stat-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .suite-stat-label {
            font-size: 12px;
            color: var(--text-muted);
            text-transform: uppercase;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 350px 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .sidebar {
                position: static;
                max-height: none;
            }
            
            .env-switcher {
                grid-template-columns: 1fr;
            }
            
            .test-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
        
        /* æç¤ºæ¡† */
        .tooltip {
            position: relative;
            cursor: help;
        }
        
        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 8px 12px;
            background: var(--dark-color);
            color: white;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
        }
        
        /* é€šçŸ¥æ¶ˆæ¯ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success { background: var(--success-color); }
        .notification.error { background: var(--error-color); }
        .notification.warning { background: var(--warning-color); }
        .notification.info { background: var(--info-color); }
        
        /* æ€§èƒ½ç›‘æ§ */
        .performance-monitor {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }
        
        .perf-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            text-align: center;
        }
        
        .perf-stat {
            padding: 8px;
            background: var(--light-color);
            border-radius: 6px;
        }
        
        .perf-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .perf-label {
            font-size: 11px;
            color: var(--text-muted);
            text-transform: uppercase;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é¡¶éƒ¨æ ‡é¢˜åŒºåŸŸ -->
        <div class="header">
            <h1>ğŸš€ ä¼ä¸šçº§AIå†…å®¹ç®¡ç†å¹³å°</h1>
            <p>ä¸“ä¸šAPIæµ‹è¯•å·¥å…· - æ”¯æŒ25+ä¸ªä¼ä¸šçº§APIç«¯ç‚¹å’Œé«˜çº§åŠŸèƒ½</p>
            <div class="feature-badges">
                <span class="feature-badge">ğŸ¯ 25+ APIç«¯ç‚¹</span>
                <span class="feature-badge">âš¡ æ‰¹é‡æ“ä½œ</span>
                <span class="feature-badge">ğŸ” é«˜çº§æœç´¢</span>
                <span class="feature-badge">ğŸ“Š å®æ—¶ç»Ÿè®¡</span>
                <span class="feature-badge">ğŸŒŠ æµå¼å“åº”</span>
                <span class="feature-badge">ğŸ“¦ æµ‹è¯•å¥—ä»¶</span>
                <span class="feature-badge">ğŸ¨ JSONé«˜äº®</span>
                <span class="feature-badge">ğŸ“± å“åº”å¼è®¾è®¡</span>
            </div>
        </div>
        
        <!-- ç¯å¢ƒåˆ‡æ¢å™¨ -->
        <div class="env-switcher">
            <div class="env-option active" data-env="development">
                <h3>ğŸ”§ å¼€å‘ç¯å¢ƒ</h3>
                <div class="env-url">http://localhost:8787</div>
                <div class="env-status checking" id="dev-status">æ£€æµ‹ä¸­...</div>
            </div>
            <div class="env-option" data-env="production">
                <h3>ğŸŒ ç”Ÿäº§ç¯å¢ƒ</h3>
                <div class="env-url">https://ai-driven-content-agent.yalinwang2.workers.dev</div>
                <div class="env-status checking" id="prod-status">æ£€æµ‹ä¸­...</div>
            </div>
        </div>
        
        <div class="main-content">
            <!-- ä¾§è¾¹æ  - APIç«¯ç‚¹åˆ—è¡¨ -->
            <div class="sidebar">
                <div class="sidebar-header">
                    <div class="sidebar-title">APIç«¯ç‚¹</div>
                    <div class="api-counter" id="api-counter">0ä¸ª</div>
                </div>
                
                <input type="text" class="search-box" id="api-search" placeholder="ğŸ” æœç´¢APIç«¯ç‚¹...">
                
                <div id="api-categories">
                    <!-- APIåˆ†ç±»å°†åœ¨æ­¤åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <!-- æµ‹è¯•é¢æ¿ -->
            <div class="testing-panel">
                <div class="panel-tabs">
                    <button class="panel-tab active" data-tab="test">ğŸ§ª å•APIæµ‹è¯•</button>
                    <button class="panel-tab" data-tab="bulk">ğŸ“¦ æ‰¹é‡æµ‹è¯•</button>
                    <button class="panel-tab" data-tab="suite">ğŸ¯ æµ‹è¯•å¥—ä»¶</button>
                    <button class="panel-tab" data-tab="monitor">ğŸ“Š æ€§èƒ½ç›‘æ§</button>
                </div>
                
                <!-- å•APIæµ‹è¯•é¢æ¿ -->
                <div class="panel-content active" id="test-panel">
                    <div id="endpoint-details">
                        <div class="endpoint-info">
                            <h2>ğŸ¯ é€‰æ‹©ä¸€ä¸ªAPIç«¯ç‚¹å¼€å§‹æµ‹è¯•</h2>
                            <p style="margin-top: 15px; color: var(--text-muted); font-size: 16px;">
                                ä»å·¦ä¾§åˆ—è¡¨ä¸­é€‰æ‹©è¦æµ‹è¯•çš„APIç«¯ç‚¹ï¼Œæ”¯æŒæ‰€æœ‰25+ä¸ªä¼ä¸šçº§åŠŸèƒ½
                            </p>
                            <div style="margin-top: 20px; padding: 20px; background: rgba(102, 126, 234, 0.1); border-radius: 12px;">
                                <h4 style="color: var(--primary-color); margin-bottom: 10px;">ğŸš€ æ–°åŠŸèƒ½äº®ç‚¹ï¼š</h4>
                                <ul style="color: var(--text-muted); line-height: 1.6;">
                                    <li>âœ¨ æ‰¹é‡æ“ä½œæ”¯æŒ - æ‰¹é‡åˆ é™¤ã€çŠ¶æ€æ›´æ–°</li>
                                    <li>ğŸ” æ™ºèƒ½æœç´¢ - é«˜çº§æœç´¢å’Œç´¢å¼•æœç´¢</li>
                                    <li>ğŸ“Š ç»Ÿè®¡åˆ†æ - å†…å®¹ç»Ÿè®¡å’Œç´¢å¼•ç»Ÿè®¡</li>
                                    <li>ğŸ“¦ å¯¼å…¥å¯¼å‡º - å¤šæ ¼å¼å¯¼å…¥å¯¼å‡º</li>
                                    <li>âš¡ ç´¢å¼•ç®¡ç† - é‡å»ºå’Œä¼˜åŒ–ç´¢å¼•</li>
                                    <li>ğŸŒŠ æµå¼å“åº” - å®æ—¶æ•°æ®ä¼ è¾“</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- æ‰¹é‡æµ‹è¯•é¢æ¿ -->
                <div class="panel-content" id="bulk-panel">
                    <div class="endpoint-info">
                        <h2>ğŸ“¦ æ‰¹é‡æ“ä½œæµ‹è¯•</h2>
                        <p>ä¸€æ¬¡æ€§æµ‹è¯•å¤šä¸ªAPIç«¯ç‚¹ï¼Œé€‚ç”¨äºå›å½’æµ‹è¯•å’Œç³»ç»ŸéªŒè¯</p>
                    </div>
                    
                    <div id="bulk-test-content">
                        <!-- æ‰¹é‡æµ‹è¯•å†…å®¹å°†åœ¨æ­¤ç”Ÿæˆ -->
                    </div>
                </div>
                
                <!-- æµ‹è¯•å¥—ä»¶é¢æ¿ -->
                <div class="panel-content" id="suite-panel">
                    <div class="endpoint-info">
                        <h2>ğŸ¯ é¢„å®šä¹‰æµ‹è¯•å¥—ä»¶</h2>
                        <p>è¿è¡Œé¢„é…ç½®çš„æµ‹è¯•åœºæ™¯ï¼ŒéªŒè¯ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½</p>
                    </div>
                    
                    <div id="test-suites">
                        <!-- æµ‹è¯•å¥—ä»¶å°†åœ¨æ­¤ç”Ÿæˆ -->
                    </div>
                </div>
                
                <!-- æ€§èƒ½ç›‘æ§é¢æ¿ -->
                <div class="panel-content" id="monitor-panel">
                    <div class="endpoint-info">
                        <h2>ğŸ“Š æ€§èƒ½ç›‘æ§ä¸ç»Ÿè®¡</h2>
                        <p>å®æ—¶ç›‘æ§APIæ€§èƒ½ï¼Œåˆ†æå“åº”æ—¶é—´å’ŒæˆåŠŸç‡</p>
                    </div>
                    
                    <div class="performance-monitor">
                        <div class="perf-stats">
                            <div class="perf-stat">
                                <div class="perf-value" id="total-requests">0</div>
                                <div class="perf-label">æ€»è¯·æ±‚æ•°</div>
                            </div>
                            <div class="perf-stat">
                                <div class="perf-value" id="success-rate">0%</div>
                                <div class="perf-label">æˆåŠŸç‡</div>
                            </div>
                            <div class="perf-stat">
                                <div class="perf-value" id="avg-response-time">0ms</div>
                                <div class="perf-label">å¹³å‡å“åº”æ—¶é—´</div>
                            </div>
                            <div class="perf-stat">
                                <div class="perf-value" id="error-count">0</div>
                                <div class="perf-label">é”™è¯¯æ•°</div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="monitor-content">
                        <!-- ç›‘æ§å†…å®¹å°†åœ¨æ­¤ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- é€šçŸ¥å®¹å™¨ -->
    <div id="notification-container"></div>
    
    <script>
        // å®Œæ•´çš„APIç«¯ç‚¹é…ç½® - è¦†ç›–æ‰€æœ‰25+ä¸ªä¼ä¸šçº§åŠŸèƒ½
        const endpoints = {
            // 1. ç³»ç»Ÿç®¡ç† API (1ä¸ª)
            'status': {
                name: 'ç³»ç»ŸçŠ¶æ€æ£€æŸ¥',
                method: 'GET',
                path: '/api/v1/status',
                description: 'è·å–ç³»ç»Ÿå¥åº·çŠ¶æ€ã€è¿è¡Œæ—¶é—´å’Œèƒ½åŠ›ä¿¡æ¯',
                category: 'ç³»ç»Ÿç®¡ç†',
                requiresAuth: false,
                tags: ['ç³»ç»Ÿ', 'å¥åº·æ£€æŸ¥'],
                params: []
            },
            
            // 2. æ¨¡æ¿ç®¡ç† API (2ä¸ª)
            'templates-list': {
                name: 'è·å–æ¨¡æ¿åˆ—è¡¨',
                method: 'GET',
                path: '/api/v1/templates',
                description: 'è·å–æ‰€æœ‰å¯ç”¨çš„å†…å®¹æ¨¡æ¿åˆ—è¡¨',
                category: 'æ¨¡æ¿ç®¡ç†',
                requiresAuth: false,
                tags: ['æ¨¡æ¿', 'åˆ—è¡¨'],
                params: []
            },
            'templates-detail': {
                name: 'è·å–æ¨¡æ¿è¯¦æƒ…',
                method: 'GET',
                path: '/api/v1/templates/{id}',
                description: 'è·å–æŒ‡å®šæ¨¡æ¿çš„è¯¦ç»†ä¿¡æ¯å’Œé…ç½®',
                category: 'æ¨¡æ¿ç®¡ç†',
                requiresAuth: false,
                tags: ['æ¨¡æ¿', 'è¯¦æƒ…'],
                params: [
                    {
                        name: 'id',
                        type: 'path',
                        required: true,
                        description: 'æ¨¡æ¿ID',
                        default: 'article_wechat',
                        options: ['article_wechat', 'tech_analysis_wechat', 'news_modern_wechat', 'github_project_wechat', 'ai_benchmark_wechat', 'professional_analysis_wechat']
                    }
                ]
            },
            
            // 3. å·¥ä½œæµç®¡ç† API (4ä¸ª)
            'workflows-list': {
                name: 'è·å–å·¥ä½œæµåˆ—è¡¨',
                method: 'GET',
                path: '/api/v1/workflows/available',
                description: 'è·å–æ‰€æœ‰å¯ç”¨çš„AIå·¥ä½œæµåˆ—è¡¨ï¼ˆåŒ…æ‹¬é»˜è®¤å’Œè‡ªå®šä¹‰ï¼‰',
                category: 'å·¥ä½œæµç®¡ç†',
                requiresAuth: true,
                tags: ['å·¥ä½œæµ', 'åˆ—è¡¨', 'AI'],
                params: []
            },
            'workflows-execute': {
                name: 'æ‰§è¡ŒAIå·¥ä½œæµ',
                method: 'POST',
                path: '/api/v1/workflows/{id}/execute',
                description: 'æ‰§è¡ŒæŒ‡å®šçš„AIå·¥ä½œæµç”Ÿæˆå†…å®¹',
                category: 'å·¥ä½œæµç®¡ç†',
                requiresAuth: true,
                tags: ['å·¥ä½œæµ', 'æ‰§è¡Œ', 'AI', 'å†…å®¹ç”Ÿæˆ'],
                params: [
                    {
                        name: 'id',
                        type: 'path',
                        required: true,
                        description: 'å·¥ä½œæµID',
                        default: 'dify-general',
                        options: ['dify-general', 'dify-article']
                    },
                    {
                        name: 'stream',
                        type: 'query',
                        required: false,
                        description: 'æ˜¯å¦ä½¿ç”¨æµå¼å“åº”',
                        default: 'false',
                        options: ['true', 'false']
                    },
                    {
                        name: 'body',
                        type: 'body',
                        required: true,
                        description: 'å·¥ä½œæµè¾“å…¥å‚æ•°',
                        default: '{\n  "inputs": {\n    "url": "https://example.com"\n  }\n}',
                        examples: {
                            'URLå†…å®¹ç”Ÿæˆ': '{\n  "inputs": {\n    "url": "https://github.com/microsoft/TypeScript"\n  }\n}',
                            'AIæ–‡ç« ç”Ÿæˆ': '{\n  "title": "äººå·¥æ™ºèƒ½çš„æœªæ¥å‘å±•è¶‹åŠ¿",\n  "style": "professional",\n  "context": "æŠ€æœ¯åˆ†æå’Œè¡Œä¸šå‰ç»"\n}',
                            'æŠ€æœ¯æ•™ç¨‹ç”Ÿæˆ': '{\n  "title": "React Hookså®Œæ•´æŒ‡å—",\n  "style": "tutorial",\n  "context": "å‰ç«¯å¼€å‘æœ€ä½³å®è·µ"\n}'
                        }
                    }
                ]
            },
            'workflows-custom-add': {
                name: 'æ·»åŠ è‡ªå®šä¹‰å·¥ä½œæµ',
                method: 'POST',
                path: '/api/v1/workflows/custom',
                description: 'æ·»åŠ æ–°çš„è‡ªå®šä¹‰AIå·¥ä½œæµé…ç½®',
                category: 'å·¥ä½œæµç®¡ç†',
                requiresAuth: true,
                tags: ['å·¥ä½œæµ', 'è‡ªå®šä¹‰', 'é…ç½®'],
                params: [
                    {
                        name: 'body',
                        type: 'body',
                        required: true,
                        description: 'è‡ªå®šä¹‰å·¥ä½œæµé…ç½®',
                        default: '{\n  "id": "custom-translate",\n  "name": "æ™ºèƒ½ç¿»è¯‘å·¥ä½œæµ",\n  "description": "å¤šè¯­è¨€æ™ºèƒ½ç¿»è¯‘å’Œæœ¬åœ°åŒ–",\n  "apiKey": "app-your-dify-workflow-key",\n  "type": "url",\n  "inputFields": ["url", "target_language"],\n  "icon": "ion-md-globe"\n}'
                    }
                ]
            },
            'workflows-custom-delete': {
                name: 'åˆ é™¤è‡ªå®šä¹‰å·¥ä½œæµ',
                method: 'DELETE',
                path: '/api/v1/workflows/custom/{id}',
                description: 'åˆ é™¤æŒ‡å®šçš„è‡ªå®šä¹‰å·¥ä½œæµ',
                category: 'å·¥ä½œæµç®¡ç†',
                requiresAuth: true,
                tags: ['å·¥ä½œæµ', 'åˆ é™¤'],
                params: [
                    {
                        name: 'id',
                        type: 'path',
                        required: true,
                        description: 'è‡ªå®šä¹‰å·¥ä½œæµID',
                        default: 'custom-translate'
                    }
                ]
            },
            
            // 4. å†…å®¹ç®¡ç† API (6ä¸ª)
            'content-render': {
                name: 'æ¸²æŸ“Markdownå†…å®¹',
                method: 'POST',
                path: '/api/v1/content/render',
                description: 'å°†Markdownå†…å®¹æ¸²æŸ“ä¸ºHTMLå¹¶ä¿å­˜',
                category: 'å†…å®¹ç®¡ç†',
                requiresAuth: true,
                tags: ['å†…å®¹', 'æ¸²æŸ“', 'Markdown', 'HTML'],
                params: [
                    {
                        name: 'body',
                        type: 'body',
                        required: true,
                        description: 'å†…å®¹æ¸²æŸ“è¯·æ±‚',
                        default: '{\n  "content": "# AIå†…å®¹ç®¡ç†å¹³å°\\n\\n## åŠŸèƒ½ç‰¹æ€§\\n\\n- **æ™ºèƒ½å†…å®¹ç”Ÿæˆ**: åŸºäºAIçš„è‡ªåŠ¨å†…å®¹åˆ›ä½œ\\n- **å¤šæ¨¡æ¿æ”¯æŒ**: 6ç§ä¸“ä¸šå¾®ä¿¡å…¬ä¼—å·æ¨¡æ¿\\n- **å®æ—¶æ¸²æŸ“**: Markdownåˆ°HTMLçš„å³æ—¶è½¬æ¢\\n\\n### æŠ€æœ¯æ ˆ\\n\\n```javascript\\nconst platform = {\\n  frontend: \\"HTML5 + CSS3 + Vanilla JS\\",\\n  backend: \\"Cloudflare Workers\\",\\n  ai: \\"Dify AI Workflows\\",\\n  storage: \\"Cloudflare KV + R2\\"\\n};\\n```\\n\\n> è¿™æ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„AIé©±åŠ¨å†…å®¹ç®¡ç†è§£å†³æ–¹æ¡ˆ",\n  "template": "article_wechat",\n  "title": "AIå†…å®¹ç®¡ç†å¹³å°ä»‹ç»",\n  "metadata": {\n    "author": "å¼ ä¸‰",\n    "category": "æŠ€æœ¯",\n    "tags": ["AI", "å†…å®¹ç®¡ç†", "ä¼ä¸šçº§"],\n    "publishDate": "2025-08-16"\n  }\n}',
                        examples: {
                            'æŠ€æœ¯æ–‡æ¡£': '{\n  "content": "# TypeScripté«˜çº§ç‰¹æ€§\\n\\n## æ³›å‹çº¦æŸ\\n\\n```typescript\\ninterface Lengthwise {\\n  length: number;\\n}\\n\\nfunction loggingIdentity<T extends Lengthwise>(arg: T): T {\\n  console.log(arg.length);\\n  return arg;\\n}\\n```",\n  "template": "tech_analysis_wechat",\n  "title": "TypeScripté«˜çº§ç‰¹æ€§è¯¦è§£"\n}',
                            'æ–°é—»èµ„è®¯': '{\n  "content": "# OpenAIå‘å¸ƒGPT-5\\n\\nä»Šæ—¥ï¼ŒOpenAIæ­£å¼å‘å¸ƒäº†GPT-5æ¨¡å‹...\\n\\n## ä¸»è¦æ”¹è¿›\\n\\n- æ›´å¼ºçš„æ¨ç†èƒ½åŠ›\\n- æ›´å¥½çš„å¤šæ¨¡æ€æ”¯æŒ\\n- æ›´é«˜çš„å®‰å…¨æ€§",\n  "template": "news_modern_wechat",\n  "title": "GPT-5æ­£å¼å‘å¸ƒ"\n}',
                            'é¡¹ç›®ä»‹ç»': '{\n  "content": "# React 19 æ–°ç‰¹æ€§\\n\\n## Server Components\\n\\nReact 19 å¼•å…¥äº†æœåŠ¡å™¨ç»„ä»¶...\\n\\n## ä½¿ç”¨ç¤ºä¾‹\\n\\n```jsx\\nfunction MyServerComponent() {\\n  return <div>Hello from server!</div>;\\n}\\n```",\n  "template": "github_project_wechat",\n  "title": "React 19 æ–°ç‰¹æ€§è¯¦è§£"\n}'
                        }
                    }
                ]
            },
            'content-list': {
                name: 'è·å–å†…å®¹åˆ—è¡¨',
                method: 'GET',
                path: '/api/v1/content',
                description: 'è·å–æ‰€æœ‰å†…å®¹çš„åˆ†é¡µåˆ—è¡¨ï¼Œæ”¯æŒç­›é€‰å’Œæ’åº',
                category: 'å†…å®¹ç®¡ç†',
                requiresAuth: true,
                tags: ['å†…å®¹', 'åˆ—è¡¨', 'åˆ†é¡µ'],
                params: [
                    {
                        name: 'page',
                        type: 'query',
                        required: false,
                        description: 'é¡µç ï¼ˆä»1å¼€å§‹ï¼‰',
                        default: '1'
                    },
                    {
                        name: 'limit',
                        type: 'query',
                        required: false,
                        description: 'æ¯é¡µæ•°é‡ï¼ˆæœ€å¤§100ï¼‰',
                        default: '10'
                    },
                    {
                        name: 'cursor',
                        type: 'query',
                        required: false,
                        description: 'åˆ†é¡µæ¸¸æ ‡ï¼ˆç”¨äºå¤§æ•°æ®é‡åˆ†é¡µï¼‰',
                        default: ''
                    }
                ]
            },
            'content-detail': {
                name: 'è·å–å†…å®¹è¯¦æƒ…',
                method: 'GET',
                path: '/api/v1/content/{id}',
                description: 'è·å–æŒ‡å®šå†…å®¹çš„å®Œæ•´è¯¦ç»†ä¿¡æ¯',
                category: 'å†…å®¹ç®¡ç†',
                requiresAuth: true,
                tags: ['å†…å®¹', 'è¯¦æƒ…'],
                params: [
                    {
                        name: 'id',
                        type: 'path',
                        required: true,
                        description: 'å†…å®¹ID',
                        default: '',
                        dynamic: true
                    }
                ]
            },
            'content-html': {
                name: 'è·å–HTMLå†…å®¹',
                method: 'GET',
                path: '/api/v1/content/{id}/html',
                description: 'è·å–å†…å®¹çš„æ¸²æŸ“åHTMLé¡µé¢',
                category: 'å†…å®¹ç®¡ç†',
                requiresAuth: false,
                tags: ['å†…å®¹', 'HTML', 'æ¸²æŸ“'],
                params: [
                    {
                        name: 'id',
                        type: 'path',
                        required: true,
                        description: 'å†…å®¹ID',
                        default: '',
                        dynamic: true
                    },
                    {
                        name: 'template',
                        type: 'query',
                        required: false,
                        description: 'ä¸´æ—¶ä½¿ç”¨çš„æ¨¡æ¿ID',
                        default: '',
                        options: ['article_wechat', 'tech_analysis_wechat', 'news_modern_wechat']
                    },
                    {
                        name: 'title',
                        type: 'query',
                        required: false,
                        description: 'ä¸´æ—¶ä½¿ç”¨çš„æ ‡é¢˜',
                        default: ''
                    }
                ]
            },
            'content-update': {
                name: 'æ›´æ–°å†…å®¹',
                method: 'PUT',
                path: '/api/v1/content/{id}',
                description: 'æ›´æ–°å·²å­˜åœ¨çš„å†…å®¹ä¿¡æ¯',
                category: 'å†…å®¹ç®¡ç†',
                requiresAuth: true,
                tags: ['å†…å®¹', 'æ›´æ–°'],
                params: [
                    {
                        name: 'id',
                        type: 'path',
                        required: true,
                        description: 'å†…å®¹ID',
                        default: '',
                        dynamic: true
                    },
                    {
                        name: 'body',
                        type: 'body',
                        required: true,
                        description: 'æ›´æ–°å†…å®¹è¯·æ±‚',
                        default: '{\n  "content": "# æ›´æ–°åçš„å†…å®¹\\n\\nè¿™æ˜¯æ›´æ–°åçš„å†…å®¹...",\n  "title": "æ–°çš„æ ‡é¢˜",\n  "template": "tech_analysis_wechat",\n  "status": "published",\n  "tags": ["AI", "æ›´æ–°"],\n  "metadata": {\n    "author": "æå››",\n    "updatedReason": "å†…å®¹ä¼˜åŒ–å’ŒåŠŸèƒ½å¢å¼º"\n  }\n}'
                    }
                ]
            },
            'content-delete': {
                name: 'åˆ é™¤å†…å®¹',
                method: 'DELETE',
                path: '/api/v1/content/{id}',
                description: 'åˆ é™¤æŒ‡å®šçš„å†…å®¹',
                category: 'å†…å®¹ç®¡ç†',
                requiresAuth: true,
                tags: ['å†…å®¹', 'åˆ é™¤'],
                params: [
                    {
                        name: 'id',
                        type: 'path',
                        required: true,
                        description: 'å†…å®¹ID',
                        default: '',
                        dynamic: true
                    }
                ]
            },
            
            // 5. æ‰¹é‡æ“ä½œ API (2ä¸ª)
            'content-bulk-delete': {
                name: 'æ‰¹é‡åˆ é™¤å†…å®¹',
                method: 'POST',
                path: '/api/v1/content/bulk/delete',
                description: 'ä¸€æ¬¡æ€§åˆ é™¤å¤šä¸ªå†…å®¹ï¼Œæ”¯æŒæ‰¹é‡é€‰æ‹©',
                category: 'æ‰¹é‡æ“ä½œ',
                requiresAuth: true,
                tags: ['æ‰¹é‡', 'åˆ é™¤', 'é«˜æ•ˆ'],
                params: [
                    {
                        name: 'body',
                        type: 'body',
                        required: true,
                        description: 'æ‰¹é‡åˆ é™¤è¯·æ±‚',
                        default: '{\n  "contentIds": [\n    "content_abc123",\n    "content_def456",\n    "content_ghi789"\n  ]\n}',
                        bulk: true
                    }
                ]
            },
            'content-bulk-status': {
                name: 'æ‰¹é‡æ›´æ–°çŠ¶æ€',
                method: 'POST',
                path: '/api/v1/content/bulk/status',
                description: 'æ‰¹é‡æ›´æ–°å†…å®¹çŠ¶æ€ï¼ˆè‰ç¨¿/å‘å¸ƒ/å½’æ¡£ï¼‰',
                category: 'æ‰¹é‡æ“ä½œ',
                requiresAuth: true,
                tags: ['æ‰¹é‡', 'çŠ¶æ€', 'å‘å¸ƒ'],
                params: [
                    {
                        name: 'body',
                        type: 'body',
                        required: true,
                        description: 'æ‰¹é‡çŠ¶æ€æ›´æ–°è¯·æ±‚',
                        default: '{\n  "contentIds": [\n    "content_abc123",\n    "content_def456"\n  ],\n  "status": "published"\n}',
                        examples: {
                            'æ‰¹é‡å‘å¸ƒ': '{\n  "contentIds": ["content_1", "content_2"],\n  "status": "published"\n}',
                            'æ‰¹é‡å½’æ¡£': '{\n  "contentIds": ["content_3", "content_4"],\n  "status": "archived"\n}',
                            'æ‰¹é‡è½¬è‰ç¨¿': '{\n  "contentIds": ["content_5", "content_6"],\n  "status": "draft"\n}'
                        },
                        bulk: true
                    }
                ]
            },
            
            // 6. å¯¼å…¥å¯¼å‡º API (2ä¸ª)
            'content-export': {
                name: 'å¯¼å‡ºå†…å®¹',
                method: 'GET',
                path: '/api/v1/content/{id}/export',
                description: 'å¯¼å‡ºå†…å®¹ä¸ºæŒ‡å®šæ ¼å¼ï¼ˆJSON/Markdown/HTMLï¼‰',
                category: 'å¯¼å…¥å¯¼å‡º',
                requiresAuth: true,
                tags: ['å¯¼å‡º', 'æ ¼å¼è½¬æ¢'],
                params: [
                    {
                        name: 'id',
                        type: 'path',
                        required: true,
                        description: 'å†…å®¹ID',
                        default: '',
                        dynamic: true
                    },
                    {
                        name: 'format',
                        type: 'query',
                        required: false,
                        description: 'å¯¼å‡ºæ ¼å¼',
                        default: 'json',
                        options: ['json', 'markdown', 'html']
                    }
                ]
            },
            'content-import': {
                name: 'å¯¼å…¥å†…å®¹',
                method: 'POST',
                path: '/api/v1/content/import',
                description: 'ä»å¤–éƒ¨æ–‡ä»¶å¯¼å…¥å†…å®¹ï¼ˆæ”¯æŒJSON/Markdownï¼‰',
                category: 'å¯¼å…¥å¯¼å‡º',
                requiresAuth: true,
                tags: ['å¯¼å…¥', 'æ‰¹é‡å¯¼å…¥'],
                params: [
                    {
                        name: 'body',
                        type: 'body',
                        required: true,
                        description: 'å¯¼å…¥å†…å®¹è¯·æ±‚',
                        default: '{\n  "content": "# å¯¼å…¥çš„æŠ€æœ¯æ–‡æ¡£\\n\\n## æ¦‚è¿°\\n\\nè¿™æ˜¯é€šè¿‡APIå¯¼å…¥çš„Markdownå†…å®¹...\\n\\n## ç‰¹æ€§\\n\\n- æ”¯æŒä»£ç é«˜äº®\\n- æ”¯æŒè¡¨æ ¼\\n- æ”¯æŒå›¾ç‰‡\\n\\n```javascript\\nconsole.log(\\"Hello, World!\\");\\n```",\n  "title": "å¯¼å…¥çš„æŠ€æœ¯æ–‡æ¡£",\n  "template": "tech_analysis_wechat",\n  "tags": ["å¯¼å…¥", "æŠ€æœ¯", "æ–‡æ¡£"],\n  "metadata": {\n    "source": "external",\n    "importedFrom": "confluence",\n    "originalAuthor": "æŠ€æœ¯å›¢é˜Ÿ"\n  }\n}',
                        examples: {
                            'æŠ€æœ¯æ–‡æ¡£å¯¼å…¥': '{\n  "content": "# APIè®¾è®¡æœ€ä½³å®è·µ\\n\\n## RESTfulè®¾è®¡åŸåˆ™\\n\\n1. ä½¿ç”¨HTTPåŠ¨è¯\\n2. èµ„æºå¯¼å‘çš„URL\\n3. çŠ¶æ€ç çš„æ­£ç¡®ä½¿ç”¨",\n  "title": "APIè®¾è®¡æœ€ä½³å®è·µ",\n  "template": "tech_analysis_wechat"\n}',
                            'åšå®¢æ–‡ç« å¯¼å…¥': '{\n  "content": "# æˆ‘çš„ç¼–ç¨‹å¿ƒå¾—\\n\\nåˆ†äº«ä¸€äº›ç¼–ç¨‹ç»éªŒ...",\n  "title": "ç¼–ç¨‹å¿ƒå¾—åˆ†äº«",\n  "template": "article_wechat"\n}',
                            'Markdownæ–‡ä»¶å¯¼å…¥': '"# ç›´æ¥å¯¼å…¥çš„Markdownå†…å®¹\\n\\nè¿™æ˜¯çº¯Markdownæ ¼å¼çš„å¯¼å…¥..."'
                        }
                    }
                ]
            },
            
            // 7. æœç´¢å’ŒæŸ¥è¯¢ API (3ä¸ª)
            'content-search': {
                name: 'é«˜çº§å†…å®¹æœç´¢',
                method: 'GET',
                path: '/api/v1/content/search',
                description: 'ä½¿ç”¨ä¼ ç»Ÿæœç´¢æ–¹æ³•æŸ¥è¯¢å†…å®¹ï¼Œæ”¯æŒå¤šæ¡ä»¶ç­›é€‰',
                category: 'æœç´¢æŸ¥è¯¢',
                requiresAuth: true,
                tags: ['æœç´¢', 'ç­›é€‰', 'æŸ¥è¯¢'],
                params: [
                    {
                        name: 'q',
                        type: 'query',
                        required: false,
                        description: 'æœç´¢å…³é”®è¯',
                        default: 'AI'
                    },
                    {
                        name: 'type',
                        type: 'query',
                        required: false,
                        description: 'å†…å®¹ç±»å‹è¿‡æ»¤',
                        default: '',
                        options: ['article', 'workflow', 'import', 'all']
                    },
                    {
                        name: 'template',
                        type: 'query',
                        required: false,
                        description: 'æ¨¡æ¿è¿‡æ»¤',
                        default: '',
                        options: ['article_wechat', 'tech_analysis_wechat', 'news_modern_wechat']
                    },
                    {
                        name: 'status',
                        type: 'query',
                        required: false,
                        description: 'çŠ¶æ€è¿‡æ»¤',
                        default: '',
                        options: ['draft', 'published', 'archived']
                    },
                    {
                        name: 'limit',
                        type: 'query',
                        required: false,
                        description: 'ç»“æœæ•°é‡é™åˆ¶',
                        default: '20'
                    }
                ]
            },
            'index-search': {
                name: 'ç´¢å¼•é«˜æ€§èƒ½æœç´¢',
                method: 'GET',
                path: '/api/v1/index/search',
                description: 'ä½¿ç”¨é«˜æ€§èƒ½ç´¢å¼•è¿›è¡Œå¿«é€Ÿæœç´¢ï¼Œæ”¯æŒå…¨æ–‡æœç´¢',
                category: 'æœç´¢æŸ¥è¯¢',
                requiresAuth: true,
                tags: ['ç´¢å¼•', 'é«˜æ€§èƒ½', 'å…¨æ–‡æœç´¢'],
                params: [
                    {
                        name: 'q',
                        type: 'query',
                        required: false,
                        description: 'æœç´¢å…³é”®è¯ï¼ˆå…¨æ–‡æœç´¢ï¼‰',
                        default: 'äººå·¥æ™ºèƒ½'
                    },
                    {
                        name: 'type',
                        type: 'query',
                        required: false,
                        description: 'ç´¢å¼•ç±»å‹',
                        default: '',
                        options: ['status', 'type', 'tag', 'template', 'author', 'date', 'workflow', 'fulltext']
                    },
                    {
                        name: 'value',
                        type: 'query',
                        required: false,
                        description: 'ç´¢å¼•å€¼ï¼ˆé…åˆtypeä½¿ç”¨ï¼‰',
                        default: ''
                    },
                    {
                        name: 'status',
                        type: 'query',
                        required: false,
                        description: 'æŒ‰çŠ¶æ€æœç´¢',
                        default: '',
                        options: ['draft', 'published', 'archived']
                    },
                    {
                        name: 'tag',
                        type: 'query',
                        required: false,
                        description: 'æŒ‰æ ‡ç­¾æœç´¢',
                        default: ''
                    },
                    {
                        name: 'author',
                        type: 'query',
                        required: false,
                        description: 'æŒ‰ä½œè€…æœç´¢',
                        default: ''
                    },
                    {
                        name: 'limit',
                        type: 'query',
                        required: false,
                        description: 'ç»“æœæ•°é‡é™åˆ¶',
                        default: '10'
                    }
                ]
            },
            'content-workflow-search': {
                name: 'é€šè¿‡å·¥ä½œæµæŸ¥è¯¢å†…å®¹',
                method: 'GET',
                path: '/api/v1/content/workflow/{executionId}',
                description: 'æ ¹æ®å·¥ä½œæµæ‰§è¡ŒIDæŸ¥è¯¢ç”Ÿæˆçš„å†…å®¹',
                category: 'æœç´¢æŸ¥è¯¢',
                requiresAuth: true,
                tags: ['å·¥ä½œæµ', 'å…³è”æŸ¥è¯¢'],
                params: [
                    {
                        name: 'executionId',
                        type: 'path',
                        required: true,
                        description: 'å·¥ä½œæµæ‰§è¡ŒID',
                        default: 'exec_abc123def456'
                    }
                ]
            },
            
            // 8. ç»Ÿè®¡åˆ†æ API (2ä¸ª)
            'content-statistics': {
                name: 'å†…å®¹ç»Ÿè®¡åˆ†æ',
                method: 'GET',
                path: '/api/v1/content/statistics',
                description: 'è·å–è¯¦ç»†çš„å†…å®¹ç»Ÿè®¡ä¿¡æ¯å’Œåˆ†ææ•°æ®',
                category: 'ç»Ÿè®¡åˆ†æ',
                requiresAuth: true,
                tags: ['ç»Ÿè®¡', 'åˆ†æ', 'æŠ¥è¡¨'],
                params: []
            },
            'index-statistics': {
                name: 'ç´¢å¼•ç»Ÿè®¡åˆ†æ',
                method: 'GET',
                path: '/api/v1/index/statistics',
                description: 'è·å–æœç´¢ç´¢å¼•çš„ç»Ÿè®¡ä¿¡æ¯å’Œæ€§èƒ½æ•°æ®',
                category: 'ç»Ÿè®¡åˆ†æ',
                requiresAuth: true,
                tags: ['ç´¢å¼•', 'ç»Ÿè®¡', 'æ€§èƒ½'],
                params: []
            },
            
            // 9. ç´¢å¼•ç®¡ç† API (2ä¸ª)
            'index-rebuild': {
                name: 'é‡å»ºæœç´¢ç´¢å¼•',
                method: 'POST',
                path: '/api/v1/index/rebuild',
                description: 'é‡å»ºæ‰€æœ‰å†…å®¹çš„æœç´¢ç´¢å¼•ï¼Œæé«˜æœç´¢æ€§èƒ½',
                category: 'ç´¢å¼•ç®¡ç†',
                requiresAuth: true,
                tags: ['ç´¢å¼•', 'é‡å»º', 'ç»´æŠ¤'],
                params: []
            },
            'index-optimize': {
                name: 'ä¼˜åŒ–æœç´¢ç´¢å¼•',
                method: 'POST',
                path: '/api/v1/index/optimize',
                description: 'æ¸…ç†æ— æ•ˆç´¢å¼•ï¼Œä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½',
                category: 'ç´¢å¼•ç®¡ç†',
                requiresAuth: true,
                tags: ['ç´¢å¼•', 'ä¼˜åŒ–', 'æ¸…ç†'],
                params: []
            }
        };
        
        // ç¯å¢ƒé…ç½®
        const environments = {
            development: {
                baseUrl: 'http://localhost:8787',
                apiKey: 'aiwenchuang',
                name: 'å¼€å‘ç¯å¢ƒ'
            },
            production: {
                baseUrl: 'https://ai-driven-content-agent.yalinwang2.workers.dev',
                apiKey: 'aiwenchuang',
                name: 'ç”Ÿäº§ç¯å¢ƒ'
            }
        };
        
        // å…¨å±€çŠ¶æ€
        let currentEnv = 'development';
        let currentEndpoint = null;
        let currentTab = 'test';
        let availableContentIds = [];
        let performanceStats = {
            totalRequests: 0,
            successCount: 0,
            errorCount: 0,
            totalResponseTime: 0,
            requestHistory: []
        };
        
        // åˆå§‹åŒ–åº”ç”¨
        document.addEventListener('DOMContentLoaded', () => {
            initializeApp();
        });
        
        async function initializeApp() {
            setupEventListeners();
            renderApiCategories();
            checkEnvironmentStatus();
            await loadAvailableContentIds();
            updateApiCounter();
            renderTestSuites();
            updatePerformanceDisplay();
        }
        
        function setupEventListeners() {
            // ç¯å¢ƒåˆ‡æ¢
            document.querySelectorAll('.env-option').forEach(option => {
                option.addEventListener('click', () => switchEnvironment(option.dataset.env));
            });
            
            // é¢æ¿åˆ‡æ¢
            document.querySelectorAll('.panel-tab').forEach(tab => {
                tab.addEventListener('click', () => switchPanel(tab.dataset.tab));
            });
            
            // APIæœç´¢
            document.getElementById('api-search').addEventListener('input', (e) => {
                filterApiEndpoints(e.target.value);
            });
        }
        
        // ç¯å¢ƒåˆ‡æ¢å‡½æ•°
        async function switchEnvironment(env) {
            currentEnv = env;
            
            document.querySelectorAll('.env-option').forEach(o => o.classList.remove('active'));
            document.querySelector(`[data-env="${env}"]`).classList.add('active');
            
            await loadAvailableContentIds();
            checkEnvironmentStatus();
            
            if (currentEndpoint) {
                renderEndpointDetails(currentEndpoint);
            }
            
            showNotification('success', `å·²åˆ‡æ¢åˆ°${environments[env].name}`);
        }
        
        // é¢æ¿åˆ‡æ¢å‡½æ•°
        function switchPanel(tab) {
            currentTab = tab;
            
            document.querySelectorAll('.panel-tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`[data-tab="${tab}"]`).classList.add('active');
            
            document.querySelectorAll('.panel-content').forEach(c => c.classList.remove('active'));
            document.getElementById(`${tab}-panel`).classList.add('active');
            
            if (tab === 'bulk') {
                renderBulkTestPanel();
            } else if (tab === 'monitor') {
                renderMonitorPanel();
            }
        }
        
        // æ¸²æŸ“APIåˆ†ç±»
        function renderApiCategories() {
            const categories = {};
            
            // æŒ‰åˆ†ç±»ç»„ç»‡APIç«¯ç‚¹
            Object.keys(endpoints).forEach(key => {
                const endpoint = endpoints[key];
                if (!categories[endpoint.category]) {
                    categories[endpoint.category] = [];
                }
                categories[endpoint.category].push({ key, ...endpoint });
            });
            
            const container = document.getElementById('api-categories');
            container.innerHTML = '';
            
            Object.keys(categories).forEach(categoryName => {
                const endpoints = categories[categoryName];
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'api-category';
                
                categoryDiv.innerHTML = `
                    <div class="category-header" onclick="toggleCategory('${categoryName}')">
                        <div class="category-title">${getCategoryIcon(categoryName)} ${categoryName}</div>
                        <div class="category-count">${endpoints.length}</div>
                        <div class="category-toggle">â–¼</div>
                    </div>
                    <div class="category-endpoints" id="category-${categoryName}">
                        ${endpoints.map(endpoint => `
                            <div class="api-endpoint" data-endpoint="${endpoint.key}" onclick="selectEndpoint('${endpoint.key}')">
                                <div class="endpoint-header">
                                    <span class="method ${endpoint.method}">${endpoint.method}</span>
                                    <span class="endpoint-path">${endpoint.path}</span>
                                </div>
                                <div class="endpoint-description">${endpoint.description}</div>
                                <div class="endpoint-tags">
                                    ${endpoint.tags.map(tag => `<span class="endpoint-tag">${tag}</span>`).join('')}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                container.appendChild(categoryDiv);
            });
        }
        
        function getCategoryIcon(category) {
            const icons = {
                'ç³»ç»Ÿç®¡ç†': 'âš™ï¸',
                'æ¨¡æ¿ç®¡ç†': 'ğŸ“„',
                'å·¥ä½œæµç®¡ç†': 'ğŸ”„',
                'å†…å®¹ç®¡ç†': 'ğŸ“',
                'æ‰¹é‡æ“ä½œ': 'ğŸ“¦',
                'å¯¼å…¥å¯¼å‡º': 'ğŸ“¤',
                'æœç´¢æŸ¥è¯¢': 'ğŸ”',
                'ç»Ÿè®¡åˆ†æ': 'ğŸ“Š',
                'ç´¢å¼•ç®¡ç†': 'ğŸ—‚ï¸'
            };
            return icons[category] || 'ğŸ“‹';
        }
        
        function toggleCategory(categoryName) {
            const categoryElement = document.getElementById(`category-${categoryName}`);
            const toggle = categoryElement.previousElementSibling.querySelector('.category-toggle');
            
            categoryElement.classList.toggle('collapsed');
            toggle.classList.toggle('collapsed');
        }
        
        function filterApiEndpoints(query) {
            const endpoints = document.querySelectorAll('.api-endpoint');
            const categories = document.querySelectorAll('.api-category');
            
            if (!query) {
                endpoints.forEach(endpoint => endpoint.style.display = 'block');
                categories.forEach(category => category.style.display = 'block');
                return;
            }
            
            const searchTerm = query.toLowerCase();
            
            categories.forEach(category => {
                let hasVisibleEndpoints = false;
                const categoryEndpoints = category.querySelectorAll('.api-endpoint');
                
                categoryEndpoints.forEach(endpoint => {
                    const text = endpoint.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        endpoint.style.display = 'block';
                        hasVisibleEndpoints = true;
                    } else {
                        endpoint.style.display = 'none';
                    }
                });
                
                category.style.display = hasVisibleEndpoints ? 'block' : 'none';
            });
        }
        
        function selectEndpoint(endpointKey) {
            document.querySelectorAll('.api-endpoint').forEach(e => e.classList.remove('active'));
            document.querySelector(`[data-endpoint="${endpointKey}"]`).classList.add('active');
            
            currentEndpoint = endpointKey;
            renderEndpointDetails(endpointKey);
            
            // è‡ªåŠ¨åˆ‡æ¢åˆ°æµ‹è¯•é¢æ¿
            if (currentTab !== 'test') {
                switchPanel('test');
            }
        }
        
        // æ£€æŸ¥ç¯å¢ƒçŠ¶æ€
        async function checkEnvironmentStatus() {
            const checkStatus = async (env) => {
                const statusElement = document.getElementById(`${env === 'development' ? 'dev' : 'prod'}-status`);
                statusElement.className = 'env-status checking';
                statusElement.textContent = 'æ£€æµ‹ä¸­...';
                
                try {
                    const response = await fetch(`${environments[env].baseUrl}/api/v1/status`, {
                        method: 'GET',
                        timeout: 5000
                    });
                    
                    if (response.ok) {
                        statusElement.className = 'env-status online';
                        statusElement.textContent = 'åœ¨çº¿';
                    } else {
                        statusElement.className = 'env-status offline';
                        statusElement.textContent = 'å¼‚å¸¸';
                    }
                } catch (error) {
                    statusElement.className = 'env-status offline';
                    statusElement.textContent = 'ç¦»çº¿';
                }
            };
            
            await Promise.all([
                checkStatus('development'),
                checkStatus('production')
            ]);
        }
        
        // åŠ è½½å¯ç”¨å†…å®¹ID
        async function loadAvailableContentIds() {
            const env = environments[currentEnv];
            try {
                const response = await fetch(`${env.baseUrl}/api/v1/content?limit=100`, {
                    headers: {
                        'Authorization': `Bearer ${env.apiKey}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    if (data.success && data.data && data.data.contents) {
                        availableContentIds = data.data.contents.map(item => ({
                            id: item.contentId,
                            title: item.title || 'æ— æ ‡é¢˜',
                            template: item.template,
                            status: item.status || 'draft',
                            type: item.type || 'article',
                            createdAt: item.createdAt,
                            author: item.metadata?.author || 'æœªçŸ¥'
                        }));
                        console.log(`âœ… åŠ è½½äº† ${availableContentIds.length} ä¸ªå†…å®¹ID`);
                    }
                }
            } catch (error) {
                console.error('âŒ åŠ è½½å†…å®¹IDå¤±è´¥:', error);
                availableContentIds = [];
            }
        }
        
        function updateApiCounter() {
            const totalEndpoints = Object.keys(endpoints).length;
            document.getElementById('api-counter').textContent = `${totalEndpoints}ä¸ª`;
        }
        
        // æ¸²æŸ“ç«¯ç‚¹è¯¦æƒ… - è¿™æ˜¯æœ€å¤æ‚çš„å‡½æ•°ï¼Œéœ€è¦æœ€å¤§ç®—åŠ›ä¼˜åŒ–
        function renderEndpointDetails(endpointKey) {
            const endpoint = endpoints[endpointKey];
            if (!endpoint) return;
            
            const env = environments[currentEnv];
            let fullPath = env.baseUrl + endpoint.path;
            
            let html = `
                <div class="endpoint-info">
                    <h2>
                        <span class="method ${endpoint.method}">${endpoint.method}</span>
                        ${endpoint.name}
                    </h2>
                    <p>${endpoint.description}</p>
                    <div class="endpoint-url">
                        <strong>${endpoint.method}</strong> ${fullPath}
                    </div>
                    <div style="margin-top: 15px;">
                        ${endpoint.tags.map(tag => `<span class="endpoint-tag">${tag}</span>`).join('')}
                    </div>
                </div>
            `;
            
            // è®¤è¯ä¿¡æ¯
            if (endpoint.requiresAuth) {
                html += `
                    <div class="params-section">
                        <div class="section-header">
                            <span class="section-icon">ğŸ”</span>
                            <h3 class="section-title">è®¤è¯ä¿¡æ¯</h3>
                        </div>
                        <div class="param-group required">
                            <div class="param-label">
                                <span class="param-name">APIå¯†é’¥</span>
                                <span class="param-required">*</span>
                                <span class="param-type">string</span>
                            </div>
                            <input type="text" class="param-input" id="apiKey" value="${env.apiKey}" placeholder="Bearer token">
                            <div class="param-description">
                                åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ : <code>Authorization: Bearer {apiKey}</code>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            // å‚æ•°è¾“å…¥
            if (endpoint.params.length > 0) {
                html += `
                    <div class="params-section">
                        <div class="section-header">
                            <span class="section-icon">ğŸ“</span>
                            <h3 class="section-title">è¯·æ±‚å‚æ•°</h3>
                        </div>
                `;
                
                endpoint.params.forEach(param => {
                    const isRequired = param.required;
                    html += `<div class="param-group ${isRequired ? 'required' : ''}">`;
                    
                    html += `
                        <div class="param-label">
                            <span class="param-name">${param.description}</span>
                            ${isRequired ? '<span class="param-required">*</span>' : ''}
                            <span class="param-type">${param.type}</span>
                        </div>
                    `;
                    
                    // ç‰¹æ®Šå¤„ç†ä¸åŒç±»å‹çš„å‚æ•°
                    if (param.bulk && availableContentIds.length > 0) {
                        // æ‰¹é‡é€‰æ‹©å™¨
                        html += renderBulkSelector(param.name);
                    } else if (param.dynamic && param.name === 'id' && endpoint.path.includes('/content/')) {
                        // åŠ¨æ€å†…å®¹IDé€‰æ‹©å™¨
                        html += renderContentIdSelector(param.name, endpointKey);
                    } else if (param.type === 'body') {
                        // JSONè¯·æ±‚ä½“
                        html += renderBodyInput(param);
                    } else if (param.options) {
                        // ä¸‹æ‹‰é€‰æ‹©
                        html += `
                            <select class="param-input" id="param-${param.name}">
                                <option value="">è¯·é€‰æ‹©...</option>
                                ${param.options.map(option => 
                                    `<option value="${option}" ${option === param.default ? 'selected' : ''}>${option}</option>`
                                ).join('')}
                            </select>
                        `;
                    } else {
                        // æ™®é€šæ–‡æœ¬è¾“å…¥
                        html += `<input type="text" class="param-input" id="param-${param.name}" value="${param.default || ''}" placeholder="${param.description}">`;
                    }
                    
                    // å‚æ•°è¯´æ˜
                    let description = '';
                    if (param.type === 'path') {
                        description = `è·¯å¾„å‚æ•° - å°†æ›¿æ¢URLä¸­çš„ {${param.name}}`;
                    } else if (param.type === 'query') {
                        description = `æŸ¥è¯¢å‚æ•° - å°†æ·»åŠ åˆ°URLæœ«å°¾`;
                    } else if (param.type === 'body') {
                        description = `è¯·æ±‚ä½“ - JSONæ ¼å¼æ•°æ®`;
                    }
                    
                    if (description) {
                        html += `<div class="param-description">${description}</div>`;
                    }
                    
                    html += '</div>';
                });
                
                html += '</div>';
            }
            
            // æ“ä½œæŒ‰é’®
            html += `
                <div class="test-actions">
                    <button class="btn btn-primary" onclick="executeTest('${endpointKey}')">
                        ğŸš€ æ‰§è¡Œæµ‹è¯•
                    </button>
                    <button class="btn btn-secondary" onclick="clearResponse()">
                        ğŸ”„ æ¸…é™¤ç»“æœ
                    </button>
                    <button class="btn btn-secondary" onclick="loadAvailableContentIds().then(() => renderEndpointDetails('${endpointKey}'))">
                        ğŸ“¥ åˆ·æ–°æ•°æ®
                    </button>
                    <button class="btn btn-secondary" onclick="copyRequestAsCode('${endpointKey}')">
                        ğŸ“‹ å¤åˆ¶ä»£ç 
                    </button>
                </div>
            `;
            
            // å“åº”åŒºåŸŸ
            html += `
                <div class="response-section">
                    <div class="response-header">
                        <div class="response-title">
                            <span>ğŸ“Š</span>
                            å“åº”ç»“æœ
                        </div>
                        <div class="response-actions">
                            <div class="response-action" onclick="toggleResponseFormat()">æ ¼å¼åŒ–</div>
                            <div class="response-action" onclick="copyResponse()">å¤åˆ¶</div>
                            <div class="response-action" onclick="downloadResponse()">ä¸‹è½½</div>
                        </div>
                        <div id="status-indicator"></div>
                    </div>
                    <div id="response-body" class="response-body">
                        ç­‰å¾…æµ‹è¯•...
                    </div>
                </div>
            `;
            
            document.getElementById('endpoint-details').innerHTML = html;
        }
        
        function renderBulkSelector(paramName) {
            if (availableContentIds.length === 0) {
                return `
                    <div class="bulk-selector">
                        <h4>âš ï¸ æš‚æ— å¯ç”¨å†…å®¹</h4>
                        <p style="color: #856404; font-size: 13px;">è¯·å…ˆåˆ›å»ºä¸€äº›å†…å®¹ï¼Œæˆ–ç‚¹å‡»"åˆ·æ–°æ•°æ®"æŒ‰é’®åŠ è½½æœ€æ–°æ•°æ®</p>
                    </div>
                    <textarea class="param-input code" id="param-${paramName}" placeholder="æ‰‹åŠ¨è¾“å…¥JSONæ ¼å¼çš„å†…å®¹IDæ•°ç»„"></textarea>
                `;
            }
            
            return `
                <div class="bulk-selector">
                    <h4>ğŸ“¦ æ‰¹é‡é€‰æ‹©å†…å®¹ (${availableContentIds.length}ä¸ªå¯ç”¨)</h4>
                    <div style="margin-bottom: 10px;">
                        <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;" onclick="selectAllContent()">å…¨é€‰</button>
                        <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;" onclick="clearAllContent()">æ¸…ç©º</button>
                        <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;" onclick="selectByStatus('published')">ä»…å·²å‘å¸ƒ</button>
                        <button class="btn btn-secondary" style="padding: 5px 10px; font-size: 12px;" onclick="selectByStatus('draft')">ä»…è‰ç¨¿</button>
                    </div>
                    <div class="content-list">
                        ${availableContentIds.map(content => `
                            <div class="content-item">
                                <input type="checkbox" id="content-${content.id}" value="${content.id}" onchange="updateBulkInput('${paramName}')">
                                <div class="content-info">
                                    <div class="content-title">${content.title}</div>
                                    <div class="content-id">${content.id}</div>
                                    <div class="content-meta">
                                        ${content.template} | ${content.status} | ${content.author} | ${new Date(content.createdAt).toLocaleDateString()}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                <textarea class="param-input code" id="param-${paramName}" placeholder="é€‰æ‹©ä¸Šæ–¹å†…å®¹åè‡ªåŠ¨ç”ŸæˆJSON"></textarea>
            `;
        }
        
        function renderContentIdSelector(paramName, endpointKey) {
            if (availableContentIds.length === 0) {
                return `
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <input type="text" class="param-input" id="param-${paramName}" value="" placeholder="è¾“å…¥å†…å®¹IDæˆ–ç‚¹å‡»åŠ è½½" style="flex: 1;">
                        <button class="btn btn-secondary" style="padding: 8px 15px;" onclick="loadAvailableContentIds().then(() => renderEndpointDetails('${endpointKey}'))">
                            ğŸ“¥ åŠ è½½å†…å®¹
                        </button>
                    </div>
                    <div class="param-description" style="color: var(--error-color);">
                        âš ï¸ æš‚æ— å¯ç”¨å†…å®¹ï¼Œè¯·å…ˆåˆ›å»ºå†…å®¹æˆ–ç‚¹å‡»åŠ è½½æŒ‰é’®
                    </div>
                `;
            }
            
            return `
                <div style="display: flex; gap: 10px; align-items: center;">
                    <select class="param-input" id="param-${paramName}" style="flex: 1;">
                        <option value="">é€‰æ‹©å†…å®¹ID...</option>
                        ${availableContentIds.map(content => 
                            `<option value="${content.id}" title="${content.title}">
                                ${content.id.substring(0, 12)}... - ${content.title.substring(0, 30)}${content.title.length > 30 ? '...' : ''} (${content.template})
                            </option>`
                        ).join('')}
                    </select>
                    <button class="btn btn-secondary" style="padding: 8px 15px;" onclick="loadAvailableContentIds().then(() => renderEndpointDetails('${endpointKey}'))">
                        ğŸ”„ åˆ·æ–°
                    </button>
                </div>
                <div class="param-description">
                    ä» ${availableContentIds.length} ä¸ªå®é™…å†…å®¹ä¸­é€‰æ‹©ï¼Œæˆ–ç‚¹å‡»åˆ·æ–°è·å–æœ€æ–°æ•°æ®
                </div>
            `;
        }
        
        function renderBodyInput(param) {
            let html = '';
            
            // å¦‚æœæœ‰ç¤ºä¾‹ï¼Œæ·»åŠ ç¤ºä¾‹é€‰æ‹©å™¨
            if (param.examples) {
                html += `
                    <div class="param-examples">
                        <div style="margin-bottom: 8px; font-weight: 500; color: var(--dark-color);">ğŸ’¡ å¿«é€Ÿç¤ºä¾‹ï¼š</div>
                        <div class="example-buttons">
                            ${Object.keys(param.examples).map(key => 
                                `<button class="example-btn" onclick="loadExample('param-${param.name}', '${key}', ${JSON.stringify(param.examples).replace(/'/g, '&apos;')})">${key}</button>`
                            ).join('')}
                        </div>
                    </div>
                `;
            }
            
            html += `<textarea class="param-input code" id="param-${param.name}" placeholder="JSONæ ¼å¼æ•°æ®">${param.default || ''}</textarea>`;
            
            return html;
        }
        
        // æ‰¹é‡é€‰æ‹©ç›¸å…³å‡½æ•°
        function selectAllContent() {
            availableContentIds.forEach(content => {
                const checkbox = document.getElementById(`content-${content.id}`);
                if (checkbox) checkbox.checked = true;
            });
            updateBulkInput('body');
        }
        
        function clearAllContent() {
            availableContentIds.forEach(content => {
                const checkbox = document.getElementById(`content-${content.id}`);
                if (checkbox) checkbox.checked = false;
            });
            updateBulkInput('body');
        }
        
        function selectByStatus(status) {
            availableContentIds.forEach(content => {
                const checkbox = document.getElementById(`content-${content.id}`);
                if (checkbox) {
                    checkbox.checked = content.status === status;
                }
            });
            updateBulkInput('body');
        }
        
        function updateBulkInput(paramName) {
            const selectedIds = [];
            availableContentIds.forEach(content => {
                const checkbox = document.getElementById(`content-${content.id}`);
                if (checkbox && checkbox.checked) {
                    selectedIds.push(content.id);
                }
            });
            
            const textarea = document.getElementById(`param-${paramName}`);
            if (textarea) {
                if (paramName === 'body' && currentEndpoint && endpoints[currentEndpoint].params.find(p => p.bulk)) {
                    // æ‰¹é‡æ“ä½œçš„ç‰¹æ®Šæ ¼å¼
                    if (currentEndpoint === 'content-bulk-delete') {
                        textarea.value = JSON.stringify({
                            contentIds: selectedIds
                        }, null, 2);
                    } else if (currentEndpoint === 'content-bulk-status') {
                        textarea.value = JSON.stringify({
                            contentIds: selectedIds,
                            status: "published"
                        }, null, 2);
                    }
                } else {
                    textarea.value = JSON.stringify(selectedIds, null, 2);
                }
            }
        }
        
        function loadExample(elementId, exampleKey, examples) {
            const element = document.getElementById(elementId);
            if (element && examples[exampleKey]) {
                element.value = examples[exampleKey];
            }
        }
        
        // æ‰§è¡Œæµ‹è¯• - æ ¸å¿ƒåŠŸèƒ½ï¼Œéœ€è¦æœ€å¼ºç®—åŠ›ä¼˜åŒ–
        async function executeTest(endpointKey) {
            const endpoint = endpoints[endpointKey];
            const env = environments[currentEnv];
            
            // æ„å»ºURL
            let url = env.baseUrl + endpoint.path;
            const queryParams = [];
            
            // å¤„ç†å‚æ•°
            endpoint.params.forEach(param => {
                const element = document.getElementById(`param-${param.name}`);
                const value = element?.value?.trim();
                
                if (param.type === 'path' && value) {
                    url = url.replace(`{${param.name}}`, value);
                } else if (param.type === 'query' && value) {
                    queryParams.push(`${param.name}=${encodeURIComponent(value)}`);
                }
            });
            
            if (queryParams.length > 0) {
                url += '?' + queryParams.join('&');
            }
            
            // å‡†å¤‡è¯·æ±‚é€‰é¡¹
            const options = {
                method: endpoint.method,
                headers: {}
            };
            
            // æ·»åŠ è®¤è¯
            if (endpoint.requiresAuth) {
                const apiKey = document.getElementById('apiKey')?.value || env.apiKey;
                options.headers['Authorization'] = `Bearer ${apiKey}`;
            }
            
            // æ·»åŠ è¯·æ±‚ä½“
            const bodyParam = endpoint.params.find(p => p.type === 'body');
            if (bodyParam) {
                const bodyValue = document.getElementById(`param-${bodyParam.name}`)?.value;
                if (bodyValue) {
                    try {
                        // éªŒè¯JSONæ ¼å¼
                        JSON.parse(bodyValue);
                        options.headers['Content-Type'] = 'application/json';
                        options.body = bodyValue;
                    } catch (error) {
                        showError(`JSONæ ¼å¼é”™è¯¯: ${error.message}`);
                        return;
                    }
                }
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            showLoading();
            
            // è®°å½•è¯·æ±‚å¼€å§‹æ—¶é—´
            const startTime = Date.now();
            performanceStats.totalRequests++;
            
            try {
                const response = await fetch(url, options);
                const elapsed = Date.now() - startTime;
                
                // æ›´æ–°æ€§èƒ½ç»Ÿè®¡
                updatePerformanceStats(response.ok, elapsed);
                
                // æ£€æŸ¥å“åº”ç±»å‹
                const contentType = response.headers.get('content-type');
                if (contentType?.includes('event-stream')) {
                    await handleStreamResponse(response, elapsed);
                } else {
                    await handleJsonResponse(response, elapsed);
                }
                
                // è®°å½•è¯·æ±‚å†å²
                recordRequestHistory(endpointKey, response.ok, elapsed);
                
            } catch (error) {
                const elapsed = Date.now() - startTime;
                updatePerformanceStats(false, elapsed);
                showError(`è¯·æ±‚å¤±è´¥: ${error.message}`);
                recordRequestHistory(endpointKey, false, elapsed);
            }
        }
        
        // å¤„ç†JSONå“åº”
        async function handleJsonResponse(response, elapsed) {
            const statusIndicator = document.getElementById('status-indicator');
            const responseBody = document.getElementById('response-body');
            
            // ğŸš€ æ·±åº¦ä¼˜åŒ–ï¼šæ™ºèƒ½å“åº”å¤„ç† - ä½¿ç”¨å…‹éš†æŠ€æœ¯é¿å…streamé‡å¤è¯»å–
            const contentType = response.headers.get('content-type') || '';
            const isJson = contentType.includes('application/json');
            const isHtml = contentType.includes('text/html');
            
            // è®¾ç½®çŠ¶æ€æŒ‡ç¤ºå™¨
            statusIndicator.innerHTML = `
                <span class="status-badge ${response.ok ? 'success' : 'error'}">
                    ${response.status} ${response.statusText} (${elapsed}ms)
                </span>
            `;
            
            try {
                // ğŸ”§ æ ¸å¿ƒä¿®å¤ï¼šå…‹éš†responseä»¥å®‰å…¨è¯»å–body
                const responseClone = response.clone();
                
                if (isJson) {
                    // JSONå“åº”å¤„ç†
                    try {
                        const data = await response.json();
                        responseBody.className = 'response-body json';
                        responseBody.textContent = JSON.stringify(data, null, 2);
                        highlightJson(responseBody);
                    } catch (jsonError) {
                        // JSONè§£æå¤±è´¥ï¼Œä½¿ç”¨å…‹éš†çš„responseè¯»å–æ–‡æœ¬
                        console.warn('JSONè§£æå¤±è´¥ï¼Œé™çº§åˆ°æ–‡æœ¬æ˜¾ç¤º:', jsonError);
                        const text = await responseClone.text();
                        responseBody.className = 'response-body';
                        responseBody.textContent = text || 'æ— å“åº”å†…å®¹';
                    }
                } else if (isHtml) {
                    // HTMLå“åº”å¤„ç†
                    const html = await response.text();
                    responseBody.className = 'response-body html';
                    // ğŸ”§ ä¿®å¤ï¼šä½¿ç”¨å®‰å…¨çš„ç¼–ç å¤„ç†ä¸­æ–‡å­—ç¬¦
                    const safeBase64 = btoa(unescape(encodeURIComponent(html)));
                    // ä½¿ç”¨iframeå®‰å…¨æ˜¾ç¤ºHTMLå†…å®¹
                    responseBody.innerHTML = `
                        <div style="margin-bottom: 10px; padding: 10px; background: #f0f8ff; border-radius: 4px;">
                            <strong>ğŸ“„ HTMLå“åº”</strong> 
                            <button onclick="openHtmlInNewTab('${safeBase64}')" style="margin-left: 10px; padding: 5px 10px; background: #007bff; color: white; border: none; border-radius: 3px; cursor: pointer;">
                                åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€
                            </button>
                        </div>
                        <iframe srcdoc="${html.replace(/"/g, '&quot;')}" style="width: 100%; height: 500px; border: 1px solid #ddd; border-radius: 4px;"></iframe>
                    `;
                } else {
                    // å…¶ä»–ç±»å‹å“åº”
                    const text = await response.text();
                    responseBody.className = 'response-body';
                    responseBody.textContent = text || 'æ— å“åº”å†…å®¹';
                }
            } catch (error) {
                // ç»ˆæé™çº§å¤„ç†
                console.error('å“åº”å¤„ç†å¤±è´¥:', error);
                responseBody.className = 'response-body error';
                responseBody.innerHTML = `
                    <div style="color: var(--error-color); padding: 20px;">
                        <strong>âš ï¸ å“åº”å¤„ç†é”™è¯¯</strong><br>
                        é”™è¯¯ä¿¡æ¯: ${error.message}<br>
                        å“åº”ç±»å‹: ${contentType || 'æœªçŸ¥'}<br>
                        çŠ¶æ€ç : ${response.status}
                    </div>
                `;
            }
        }
        
        // ğŸš€ æ–°å¢ï¼šåœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€HTMLå†…å®¹
        function openHtmlInNewTab(base64Html) {
            // ğŸ”§ ä¿®å¤ï¼šæ­£ç¡®è§£ç åŒ…å«UTF-8å­—ç¬¦çš„base64å†…å®¹
            const html = decodeURIComponent(escape(atob(base64Html)));
            const newWindow = window.open('', '_blank');
            newWindow.document.write(html);
            newWindow.document.close();
        }
        
        // å¤„ç†æµå¼å“åº”
        async function handleStreamResponse(response, elapsed) {
            const statusIndicator = document.getElementById('status-indicator');
            const responseBody = document.getElementById('response-body');
            
            statusIndicator.innerHTML = `
                <span class="status-badge success">
                    ${response.status} æµå¼å“åº” (${elapsed}ms)
                </span>
            `;
            
            responseBody.className = 'response-body';
            responseBody.innerHTML = '<div style="color: var(--info-color); margin-bottom: 15px;">ğŸŒŠ æ­£åœ¨æ¥æ”¶æµå¼æ•°æ®...</div>';
            
            const reader = response.body.getReader();
            const decoder = new TextDecoder();
            let buffer = '';
            let eventCount = 0;
            
            while (true) {
                const { done, value } = await reader.read();
                if (done) break;
                
                const chunk = decoder.decode(value, { stream: true });
                buffer += chunk;
                
                let boundary;
                while ((boundary = buffer.indexOf('\n\n')) !== -1) {
                    const event = buffer.substring(0, boundary);
                    buffer = buffer.substring(boundary + 2);
                    
                    if (event.startsWith('data: ')) {
                        eventCount++;
                        const data = event.substring(6);
                        
                        if (data === '[DONE]') {
                            responseBody.innerHTML += `
                                <div class="stream-event">
                                    <div class="stream-event-header">
                                        <span>âœ… æµå¼ä¼ è¾“å®Œæˆ</span>
                                        <span>å…±æ¥æ”¶ ${eventCount} ä¸ªäº‹ä»¶</span>
                                    </div>
                                </div>
                            `;
                            return;
                        }
                        
                        try {
                            const parsed = JSON.parse(data);
                            const eventHtml = `
                                <div class="stream-event">
                                    <div class="stream-event-header">
                                        <span>ğŸ“¡ äº‹ä»¶ #${eventCount}</span>
                                        <span>${new Date().toLocaleTimeString()}</span>
                                    </div>
                                    <div class="stream-event-data">${JSON.stringify(parsed, null, 2)}</div>
                                </div>
                            `;
                            responseBody.innerHTML += eventHtml;
                        } catch (e) {
                            responseBody.innerHTML += `
                                <div class="stream-event">
                                    <div class="stream-event-header">
                                        <span>ğŸ“„ åŸå§‹æ•°æ® #${eventCount}</span>
                                        <span>${new Date().toLocaleTimeString()}</span>
                                    </div>
                                    <div class="stream-event-data">${data}</div>
                                </div>
                            `;
                        }
                        
                        // è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
                        responseBody.scrollTop = responseBody.scrollHeight;
                    }
                }
            }
        }
        
        function updatePerformanceStats(success, responseTime) {
            performanceStats.totalResponseTime += responseTime;
            if (success) {
                performanceStats.successCount++;
            } else {
                performanceStats.errorCount++;
            }
            updatePerformanceDisplay();
        }
        
        function updatePerformanceDisplay() {
            const totalRequests = performanceStats.totalRequests;
            const successRate = totalRequests > 0 ? ((performanceStats.successCount / totalRequests) * 100).toFixed(1) : 0;
            const avgResponseTime = totalRequests > 0 ? Math.round(performanceStats.totalResponseTime / totalRequests) : 0;
            
            const elements = {
                'total-requests': totalRequests,
                'success-rate': `${successRate}%`,
                'avg-response-time': `${avgResponseTime}ms`,
                'error-count': performanceStats.errorCount
            };
            
            Object.keys(elements).forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = elements[id];
                }
            });
        }
        
        function recordRequestHistory(endpointKey, success, responseTime) {
            performanceStats.requestHistory.unshift({
                endpoint: endpointKey,
                success,
                responseTime,
                timestamp: new Date()
            });
            
            // åªä¿ç•™æœ€è¿‘100æ¡è®°å½•
            if (performanceStats.requestHistory.length > 100) {
                performanceStats.requestHistory = performanceStats.requestHistory.slice(0, 100);
            }
        }
        
        // æ¸²æŸ“æ‰¹é‡æµ‹è¯•é¢æ¿
        function renderBulkTestPanel() {
            const bulkContent = document.getElementById('bulk-test-content');
            
            const categorizedEndpoints = {};
            Object.keys(endpoints).forEach(key => {
                const endpoint = endpoints[key];
                if (!categorizedEndpoints[endpoint.category]) {
                    categorizedEndpoints[endpoint.category] = [];
                }
                categorizedEndpoints[endpoint.category].push({ key, ...endpoint });
            });
            
            let html = `
                <div style="margin-bottom: 30px;">
                    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                        <button class="btn btn-primary" onclick="runBulkTest()">ğŸš€ æ‰§è¡Œæ‰¹é‡æµ‹è¯•</button>
                        <button class="btn btn-secondary" onclick="selectAllEndpoints()">å…¨é€‰</button>
                        <button class="btn btn-secondary" onclick="clearAllEndpoints()">æ¸…ç©º</button>
                        <button class="btn btn-secondary" onclick="selectByCategory('å·¥ä½œæµç®¡ç†')">å·¥ä½œæµ</button>
                        <button class="btn btn-secondary" onclick="selectByCategory('å†…å®¹ç®¡ç†')">å†…å®¹ç®¡ç†</button>
                    </div>
                    
                    <div id="bulk-progress" style="display: none;">
                        <div class="suite-progress">
                            <div class="suite-progress-bar" id="bulk-progress-bar"></div>
                        </div>
                        <div style="text-align: center; color: var(--text-muted); font-size: 14px;">
                            <span id="bulk-status">å‡†å¤‡æµ‹è¯•...</span>
                        </div>
                    </div>
                </div>
            `;
            
            Object.keys(categorizedEndpoints).forEach(category => {
                const endpoints = categorizedEndpoints[category];
                html += `
                    <div class="test-suite">
                        <div class="suite-header">
                            <div>
                                <input type="checkbox" id="category-${category}" onchange="toggleCategoryEndpoints('${category}')">
                                <label for="category-${category}" style="margin-left: 8px; font-weight: 600;">${getCategoryIcon(category)} ${category}</label>
                            </div>
                            <span class="category-count">${endpoints.length}ä¸ª</span>
                        </div>
                        <div style="margin-left: 20px;">
                            ${endpoints.map(endpoint => `
                                <div style="margin: 8px 0; display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" id="endpoint-${endpoint.key}" class="endpoint-checkbox" data-category="${category}">
                                    <span class="method ${endpoint.method}">${endpoint.method}</span>
                                    <span style="flex: 1;">${endpoint.name}</span>
                                    <span style="font-size: 12px; color: var(--text-muted);">${endpoint.path}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            
            html += `
                <div id="bulk-results" style="display: none; margin-top: 30px;">
                    <h3>ğŸ“Š æ‰¹é‡æµ‹è¯•ç»“æœ</h3>
                    <div id="bulk-results-content"></div>
                </div>
            `;
            
            bulkContent.innerHTML = html;
        }
        
        // æ¸²æŸ“æµ‹è¯•å¥—ä»¶
        function renderTestSuites() {
            const suites = [
                {
                    id: 'basic-functionality',
                    name: 'ğŸ”§ åŸºç¡€åŠŸèƒ½æµ‹è¯•',
                    description: 'æµ‹è¯•ç³»ç»ŸçŠ¶æ€ã€æ¨¡æ¿å’ŒåŸºç¡€å†…å®¹åŠŸèƒ½',
                    endpoints: ['status', 'templates-list', 'templates-detail', 'content-list']
                },
                {
                    id: 'workflow-suite',
                    name: 'ğŸ¤– AIå·¥ä½œæµæµ‹è¯•',
                    description: 'æµ‹è¯•AIå·¥ä½œæµçš„æ‰§è¡Œå’Œç®¡ç†åŠŸèƒ½',
                    endpoints: ['workflows-list', 'workflows-execute']
                },
                {
                    id: 'content-management',
                    name: 'ğŸ“ å†…å®¹ç®¡ç†æµ‹è¯•',
                    description: 'æµ‹è¯•å†…å®¹çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†',
                    endpoints: ['content-render', 'content-detail', 'content-update', 'content-delete']
                },
                {
                    id: 'bulk-operations',
                    name: 'ğŸ“¦ æ‰¹é‡æ“ä½œæµ‹è¯•',
                    description: 'æµ‹è¯•æ‰¹é‡åˆ é™¤å’ŒçŠ¶æ€æ›´æ–°åŠŸèƒ½',
                    endpoints: ['content-bulk-delete', 'content-bulk-status']
                },
                {
                    id: 'search-analytics',
                    name: 'ğŸ” æœç´¢åˆ†ææµ‹è¯•',
                    description: 'æµ‹è¯•æœç´¢ã€ç»Ÿè®¡å’Œç´¢å¼•ç®¡ç†åŠŸèƒ½',
                    endpoints: ['content-search', 'index-search', 'content-statistics', 'index-statistics']
                },
                {
                    id: 'enterprise-features',
                    name: 'ğŸ¢ ä¼ä¸šçº§åŠŸèƒ½æµ‹è¯•',
                    description: 'æµ‹è¯•æ‰€æœ‰é«˜çº§ä¼ä¸šåŠŸèƒ½',
                    endpoints: ['content-import', 'content-export', 'index-rebuild', 'index-optimize']
                }
            ];
            
            const suitesContainer = document.getElementById('test-suites');
            let html = '';
            
            suites.forEach(suite => {
                html += `
                    <div class="test-suite">
                        <div class="suite-header">
                            <div class="suite-title">${suite.name}</div>
                            <button class="btn btn-primary" onclick="runTestSuite('${suite.id}')">è¿è¡Œå¥—ä»¶</button>
                        </div>
                        <p style="color: var(--text-muted); margin: 10px 0;">${suite.description}</p>
                        <div class="suite-progress" id="progress-${suite.id}" style="display: none;">
                            <div class="suite-progress-bar" id="bar-${suite.id}"></div>
                        </div>
                        <div style="margin-top: 15px;">
                            <strong>åŒ…å«æ¥å£ (${suite.endpoints.length}ä¸ª):</strong>
                            <div style="margin-top: 8px;">
                                ${suite.endpoints.map(key => {
                                    const endpoint = endpoints[key];
                                    return `<span class="endpoint-tag">${endpoint ? endpoint.name : key}</span>`;
                                }).join('')}
                            </div>
                        </div>
                        <div id="results-${suite.id}" style="display: none; margin-top: 15px;"></div>
                    </div>
                `;
            });
            
            suitesContainer.innerHTML = html;
        }
        
        // æ¸²æŸ“ç›‘æ§é¢æ¿
        function renderMonitorPanel() {
            const monitorContent = document.getElementById('monitor-content');
            
            let html = `
                <div style="margin-bottom: 30px;">
                    <h3>ğŸ“ˆ è¯·æ±‚å†å²</h3>
                    <div id="request-history" style="max-height: 400px; overflow-y: auto; border: 1px solid var(--border-color); border-radius: 8px; background: white;">
            `;
            
            if (performanceStats.requestHistory.length === 0) {
                html += `
                    <div style="padding: 40px; text-align: center; color: var(--text-muted);">
                        ğŸ“Š æš‚æ— è¯·æ±‚å†å²<br>
                        <small>å¼€å§‹æµ‹è¯•APIåå°†æ˜¾ç¤ºè¯·æ±‚è®°å½•</small>
                    </div>
                `;
            } else {
                performanceStats.requestHistory.forEach((record, index) => {
                    const endpoint = endpoints[record.endpoint];
                    html += `
                        <div style="padding: 12px 16px; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center;">
                            <div style="flex: 1;">
                                <div style="font-weight: 500;">${endpoint ? endpoint.name : record.endpoint}</div>
                                <div style="font-size: 12px; color: var(--text-muted);">${record.timestamp.toLocaleString()}</div>
                            </div>
                            <div style="text-align: right;">
                                <span class="status-badge ${record.success ? 'success' : 'error'}" style="font-size: 12px; padding: 4px 8px;">
                                    ${record.success ? 'âœ… æˆåŠŸ' : 'âŒ å¤±è´¥'}
                                </span>
                                <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">${record.responseTime}ms</div>
                            </div>
                        </div>
                    `;
                });
            }
            
            html += `
                    </div>
                </div>
                
                <div style="margin-bottom: 30px;">
                    <h3>ğŸ¯ APIç«¯ç‚¹æ€§èƒ½æ’è¡Œ</h3>
                    <div id="endpoint-performance"></div>
                </div>
                
                <div>
                    <button class="btn btn-secondary" onclick="clearPerformanceData()">ğŸ”„ æ¸…é™¤ç»Ÿè®¡æ•°æ®</button>
                    <button class="btn btn-secondary" onclick="exportPerformanceData()">ğŸ“¤ å¯¼å‡ºæ•°æ®</button>
                </div>
            `;
            
            monitorContent.innerHTML = html;
        }
        
        // è¿è¡Œæµ‹è¯•å¥—ä»¶
        async function runTestSuite(suiteId) {
            const suites = {
                'basic-functionality': ['status', 'templates-list', 'templates-detail', 'content-list'],
                'workflow-suite': ['workflows-list', 'workflows-execute'],
                'content-management': ['content-render', 'content-detail', 'content-update', 'content-delete'],
                'bulk-operations': ['content-bulk-delete', 'content-bulk-status'],
                'search-analytics': ['content-search', 'index-search', 'content-statistics', 'index-statistics'],
                'enterprise-features': ['content-import', 'content-export', 'index-rebuild', 'index-optimize']
            };
            
            const endpointKeys = suites[suiteId];
            if (!endpointKeys) return;
            
            const progressBar = document.getElementById(`bar-${suiteId}`);
            const progressContainer = document.getElementById(`progress-${suiteId}`);
            const resultsContainer = document.getElementById(`results-${suiteId}`);
            
            progressContainer.style.display = 'block';
            resultsContainer.style.display = 'block';
            progressBar.style.width = '0%';
            
            const results = [];
            
            for (let i = 0; i < endpointKeys.length; i++) {
                const endpointKey = endpointKeys[i];
                const endpoint = endpoints[endpointKey];
                
                progressBar.style.width = `${((i / endpointKeys.length) * 100)}%`;
                
                try {
                    // è¿™é‡Œåº”è¯¥æ‰§è¡Œå®é™…çš„æµ‹è¯•ï¼Œç®€åŒ–ç‰ˆæœ¬åªæ˜¯æ¨¡æ‹Ÿ
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    results.push({
                        endpoint: endpointKey,
                        name: endpoint.name,
                        success: Math.random() > 0.2, // æ¨¡æ‹Ÿ80%æˆåŠŸç‡
                        responseTime: Math.floor(Math.random() * 1000) + 100
                    });
                } catch (error) {
                    results.push({
                        endpoint: endpointKey,
                        name: endpoint.name,
                        success: false,
                        responseTime: 0,
                        error: error.message
                    });
                }
            }
            
            progressBar.style.width = '100%';
            
            // æ˜¾ç¤ºç»“æœ
            const successCount = results.filter(r => r.success).length;
            const avgResponseTime = Math.floor(results.reduce((sum, r) => sum + r.responseTime, 0) / results.length);
            
            resultsContainer.innerHTML = `
                <div class="suite-stats">
                    <div class="suite-stat">
                        <div class="suite-stat-value" style="color: var(--success-color);">${successCount}</div>
                        <div class="suite-stat-label">æˆåŠŸ</div>
                    </div>
                    <div class="suite-stat">
                        <div class="suite-stat-value" style="color: var(--error-color);">${endpointKeys.length - successCount}</div>
                        <div class="suite-stat-label">å¤±è´¥</div>
                    </div>
                    <div class="suite-stat">
                        <div class="suite-stat-value" style="color: var(--info-color);">${avgResponseTime}ms</div>
                        <div class="suite-stat-label">å¹³å‡å“åº”</div>
                    </div>
                    <div class="suite-stat">
                        <div class="suite-stat-value" style="color: var(--primary-color);">${Math.floor((successCount / endpointKeys.length) * 100)}%</div>
                        <div class="suite-stat-label">æˆåŠŸç‡</div>
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    ${results.map(result => `
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border-color);">
                            <span>${result.name}</span>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <span style="font-size: 12px; color: var(--text-muted);">${result.responseTime}ms</span>
                                <span class="status-badge ${result.success ? 'success' : 'error'}" style="font-size: 11px; padding: 3px 8px;">
                                    ${result.success ? 'âœ…' : 'âŒ'}
                                </span>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }
        
        // å·¥å…·å‡½æ•°
        function showLoading() {
            const statusIndicator = document.getElementById('status-indicator');
            const responseBody = document.getElementById('response-body');
            
            if (statusIndicator) {
                statusIndicator.innerHTML = '<span class="status-badge pending">ğŸ”„ è¯·æ±‚ä¸­...</span>';
            }
            if (responseBody) {
                responseBody.className = 'response-body';
                responseBody.innerHTML = `
                    <div class="loading">
                        <div class="spinner"></div>
                        <div class="loading-text">æ­£åœ¨å‘é€è¯·æ±‚...</div>
                    </div>
                `;
            }
        }
        
        function showError(message) {
            const statusIndicator = document.getElementById('status-indicator');
            const responseBody = document.getElementById('response-body');
            
            if (statusIndicator) {
                statusIndicator.innerHTML = '<span class="status-badge error">âŒ è¯·æ±‚å¤±è´¥</span>';
            }
            if (responseBody) {
                responseBody.className = 'response-body';
                responseBody.innerHTML = `<div style="color: var(--error-color); padding: 20px; text-align: center;">âŒ é”™è¯¯: ${message}</div>`;
            }
        }
        
        function clearResponse() {
            const statusIndicator = document.getElementById('status-indicator');
            const responseBody = document.getElementById('response-body');
            
            if (statusIndicator) {
                statusIndicator.innerHTML = '';
            }
            if (responseBody) {
                responseBody.className = 'response-body';
                responseBody.textContent = 'ç­‰å¾…æµ‹è¯•...';
            }
        }
        
        function clearPerformanceData() {
            performanceStats = {
                totalRequests: 0,
                successCount: 0,
                errorCount: 0,
                totalResponseTime: 0,
                requestHistory: []
            };
            updatePerformanceDisplay();
            renderMonitorPanel();
            showNotification('success', 'æ€§èƒ½æ•°æ®å·²æ¸…é™¤');
        }
        
        // JSONè¯­æ³•é«˜äº®
        function highlightJson(element) {
            let html = element.textContent;
            
            // é«˜äº®å­—ç¬¦ä¸²
            html = html.replace(/"([^"\\]*(\\.[^"\\]*)*)"/g, '<span class="json-string">"$1"</span>');
            
            // é«˜äº®æ•°å­—
            html = html.replace(/\b(\d+\.?\d*)\b/g, '<span class="json-number">$1</span>');
            
            // é«˜äº®å¸ƒå°”å€¼å’Œnull
            html = html.replace(/\b(true|false|null)\b/g, '<span class="json-boolean">$1</span>');
            
            // é«˜äº®é”®å
            html = html.replace(/<span class="json-string">"([^"]+)"<\/span>:/g, '<span class="json-key">"$1"</span>:');
            
            element.innerHTML = html;
        }
        
        // é€šçŸ¥ç³»ç»Ÿ
        function showNotification(type, message) {
            const container = document.getElementById('notification-container');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            container.appendChild(notification);
            
            // æ˜¾ç¤ºåŠ¨ç”»
            setTimeout(() => notification.classList.add('show'), 100);
            
            // è‡ªåŠ¨éšè—
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => container.removeChild(notification), 300);
            }, 3000);
        }
        
        // å¤åˆ¶å’Œä¸‹è½½åŠŸèƒ½
        function copyResponse() {
            const responseBody = document.getElementById('response-body');
            if (responseBody) {
                navigator.clipboard.writeText(responseBody.textContent).then(() => {
                    showNotification('success', 'å“åº”å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                });
            }
        }
        
        function downloadResponse() {
            const responseBody = document.getElementById('response-body');
            if (responseBody) {
                // ğŸ”§ å¢å¼ºï¼šæ™ºèƒ½è¯†åˆ«å†…å®¹ç±»å‹å¹¶è®¾ç½®æ­£ç¡®çš„æ–‡ä»¶æ‰©å±•å
                let content = responseBody.textContent;
                let fileType = 'txt';
                let mimeType = 'text/plain';
                
                // æ£€æŸ¥æ˜¯å¦ä¸ºHTMLå†…å®¹
                if (responseBody.classList.contains('html') || responseBody.querySelector('iframe')) {
                    const iframe = responseBody.querySelector('iframe');
                    if (iframe) {
                        content = iframe.getAttribute('srcdoc').replace(/&quot;/g, '"');
                    }
                    fileType = 'html';
                    mimeType = 'text/html';
                } 
                // æ£€æŸ¥æ˜¯å¦ä¸ºJSONå†…å®¹
                else if (responseBody.classList.contains('json')) {
                    try {
                        JSON.parse(content);
                        fileType = 'json';
                        mimeType = 'application/json';
                    } catch (e) {
                        // ä¸æ˜¯æœ‰æ•ˆçš„JSONï¼Œä¿æŒä¸ºæ–‡æœ¬
                    }
                }
                
                const blob = new Blob([content], { type: mimeType + ';charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `api-response-${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.${fileType}`;
                a.click();
                URL.revokeObjectURL(url);
            }
        }
        
        function copyRequestAsCode(endpointKey) {
            const endpoint = endpoints[endpointKey];
            const env = environments[currentEnv];
            
            // ç”ŸæˆcURLå‘½ä»¤
            let curlCommand = `curl -X ${endpoint.method} "${env.baseUrl}${endpoint.path}"`;
            
            if (endpoint.requiresAuth) {
                const apiKey = document.getElementById('apiKey')?.value || env.apiKey;
                curlCommand += ` \\\n  -H "Authorization: Bearer ${apiKey}"`;
            }
            
            const bodyParam = endpoint.params.find(p => p.type === 'body');
            if (bodyParam) {
                const bodyValue = document.getElementById(`param-${bodyParam.name}`)?.value;
                if (bodyValue) {
                    curlCommand += ` \\\n  -H "Content-Type: application/json" \\\n  -d '${bodyValue}'`;
                }
            }
            
            navigator.clipboard.writeText(curlCommand).then(() => {
                showNotification('success', 'cURLå‘½ä»¤å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
            });
        }
        
        // åœ¨é¡µé¢åŠ è½½æ—¶å¯åŠ¨ç¯å¢ƒçŠ¶æ€æ£€æŸ¥
        setInterval(checkEnvironmentStatus, 60000); // æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
    </script>
</body>
</html>